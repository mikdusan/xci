---
kind: pipeline
type: docker
name: x86_64-linux
platform:
  os: linux
  arch: amd64
workspace:
  path: /workspace

steps:
- name: build
  image: ci/debian-amd64:11.1-1
  commands:
  - echo "pretend to do something"
  - sleep 5
  - pwd
  - uname -a

---
kind: pipeline
type: vm
name: x86_64-freebsd
platform:
  os: freebsd
  arch: amd64
workspace:
  path: /workspace

steps:
- name: build
  commands:
  - echo "build (pipeline 0)"
  - env | sort
  - sleep 60

---
kind: pipeline
type: vm
name: x86_64-freebsd
platform:
  os: freebsd
  arch: amd64
workspace:
  path: /workspace

steps:
- name: build
  commands:
  - echo "build (pipeline 1)"
  - env | sort
  - sleep 60

---
kind: pipeline
type: vm
name: x86_64-freebsd
platform:
  os: freebsd
  arch: amd64
workspace:
  path: /workspace

steps:
- name: build
  commands:
  - echo "build (pipeline 2)"
  - env | sort
  - sleep 60
